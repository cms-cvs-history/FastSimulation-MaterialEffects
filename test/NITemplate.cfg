process eg = {

    # The number of events to be processed.
    untracked PSet maxEvents = {untracked int32 input = ==TOTEV==}

    # initialize  MessageLogger
    # include "FWCore/MessageLogger/data/MessageLogger.cfi"
    
    # Include the RandomNumberGeneratorService definition
    include "FastSimulation/Configuration/data/RandomServiceInitialization.cff"

    service = DaqMonitorROOTBackEnd{}		
    
    # input
    source = PoolSource {
	untracked uint32 debugVebosity = 10
	untracked bool   debugFlag     = true
	/* */
	# Pion 15 GeV
	untracked vstring fileNames = {
	    'file:==INPUTFILE==_0.root',
	    'file:==INPUTFILE==_1.root',
	    'file:==INPUTFILE==_2.root',
	    'file:==INPUTFILE==_3.root',
	    'file:==INPUTFILE==_4.root'
	}
	/* */
    }

    module testNU = testNuclearInteractions
    {
    	PSet TestParticleFilter = {
	    # Particles with |eta| > etaMax (momentum direction at primary vertex) 
	    # are not simulated 
	    double etaMax = 5.0
	    # Charged particles with pT < pTMin (GeV/c) are not simulated
	    double pTMin =  0.
	    # Particles with energy smaller than EMin (GeV) are not simulated
	    double EMin = 0.
    	}
	
	bool SaveNuclearInteractions = true
	uint32 MaxNumberOfNuclearInteractions = ==MAXNU==
	untracked string NUEventFile = "==NUFILE=="
	untracked string OutputFile = "==ROOTFILE=="
    }
	
    #   module o1 = PoolOutputModule { untracked string fileName = "test.root" }
    
    # Famos SimHits 
    include "FastSimulation/Configuration/data/CommonInputsFake.cff"
    include "FastSimulation/Configuration/data/FamosSequences.cff"
    replace VolumeBasedMagneticFieldESProducer.useParametrizedTrackerField = true
    replace famosSimHits.SimulateCalorimetry = false
    replace famosSimHits.SimulateTracking = false

    # path to run everything
    #  path p = { testNU }
    path p = { famosSimHits, testNU }
    
    # Keep the logging output to a nice level #
    include "FWCore/MessageService/data/MessageLogger.cfi"
    replace MessageLogger.destinations = {"detailedInfo.txt"}
    
}
