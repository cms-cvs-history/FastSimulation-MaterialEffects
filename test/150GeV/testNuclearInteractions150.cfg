process eg = {

 # initialize  MessageLogger
# include "FWCore/MessageLogger/data/MessageLogger.cfi"

  service =  RandomNumberGeneratorService {
#	untracked uint32 sourceSeed = 123456789
# This is to initialize the random engine of Famos
# Watch out! This works only if the FamosProducer label is "Famos"
        PSet moduleSeeds = {
#          	untracked uint32 VtxSmeared = 123456789
		untracked uint32 famosSimHits = 13579
#		untracked uint32 siTrackerGaussianSmearingRecHits = 24680
        }
}
	
  service = DaqMonitorROOTBackEnd{}		

 # input
  source = PoolSource {
#     untracked uint32 skipEvents = 476
     untracked int32 maxEvents = -1
     untracked uint32 debugVebosity = 10
     untracked bool   debugFlag     = true

#Pions 150 GeV
     untracked vstring fileNames = {
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/0C22C995-9BA4-DB11-9BD8-001731A28A73.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/0E24070E-9BA4-DB11-8B09-00304875A7AF.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/10759906-9FA4-DB11-930F-00304870D647.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/12E1B1EB-D3A4-DB11-83C5-0030487274C5.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/1828367A-B5A4-DB11-8786-001731AF66A9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/1C173755-9BA4-DB11-879D-00304875ABE5.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/1E3BA271-ACA4-DB11-8ABE-003048756687.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/20BC2166-A6A4-DB11-84B5-00304875AACB.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/2226145E-9BA4-DB11-840A-00304875AA09.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/22477658-B4A4-DB11-9B77-001731AF65E9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/2266D3D3-ADA4-DB11-98F0-001731AF68BF.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/246D8647-9CA4-DB11-8245-003048754E4F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/2619DC31-C2A4-DB11-909D-001731AF68CF.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/2A6E67AC-AEA4-DB11-91F1-001731AF6B7D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/2CAD45FD-ACA4-DB11-8A94-001731AF677F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/2CFB5E80-AEA4-DB11-9F8E-001731AF66A9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/2E51F052-ACA4-DB11-8FF0-001731AF67C3.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/2EA2ECE2-9CA4-DB11-80C7-00304870772D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/2EDDCA61-9BA4-DB11-8015-001731AF6789.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/36D968C0-A4A4-DB11-93F0-0030487253A7.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/3831A832-9EA4-DB11-9113-00304870DAFB.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/38CF77ED-ACA4-DB11-9343-001731AF68B9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/3A394F2C-B2A4-DB11-94E5-00304870D529.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/482B4A06-A6A4-DB11-851C-00304876A0EB.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/4E253057-7EA4-DB11-8D91-001731AF6727.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/50284D99-8DA4-DB11-818C-001731AF6B7D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/548EC2D8-8CA4-DB11-8146-003048767D4D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/56F2E2E2-8DA4-DB11-9B71-001731AF685D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/5802434F-AFA4-DB11-9843-001731AF6847.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/5A9F3923-A5A4-DB11-9708-001731AF699D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/5CD701B2-A5A4-DB11-9930-001731AF6BCD.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/60DAA9EF-77A4-DB11-835A-001731AF6B83.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/60EBC87C-9CA4-DB11-8DFF-001731AF6785.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/66E169E4-8EA8-DB11-8583-001731AF68C9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/6CD7942B-9DA4-DB11-8CEF-003048767EF9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/6E05963C-9CA4-DB11-8012-003048767EBB.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/78731E9A-A2A4-DB11-8DCC-003048767DD7.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/78EA9601-BFA4-DB11-9E2B-001731AF6AE7.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/840B2293-ACA4-DB11-9878-001731A283E1.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/86441890-9CA4-DB11-878B-00304875AA4F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/88D38577-9DA4-DB11-8298-003048754DA9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/8AF1D1D6-A4A4-DB11-96BF-001731AF66AF.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/90063B8A-AEA4-DB11-8A3B-001731AF66BF.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/92CDEE36-ADA4-DB11-98BF-0030487074C3.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/98026F8D-9BA4-DB11-8108-003048767D4D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/982B9FC6-C2A4-DB11-83C0-003048767EDD.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/9ED51574-ADA4-DB11-9D6A-003048758A07.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/A0A80364-9BA4-DB11-993C-003048723C0D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/A48BEC42-A6A4-DB11-87D0-00304870E0D5.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/A6214709-9DA4-DB11-9847-003048767D35.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/A85B4B9B-A2A4-DB11-838E-003048769D4D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/A8A13376-8FA4-DB11-95E8-001731AF66A7.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/AA6F57D5-A5A4-DB11-9216-001731AF678D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/B00D0371-9CA4-DB11-94B6-00304875ABE5.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/B0884A88-9FA4-DB11-8644-001731AF6BD3.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/B08F2784-9CA4-DB11-909E-003048769DC1.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/B498CA74-83A4-DB11-8D38-001731AF671B.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/BC72991D-9DA4-DB11-9E58-001731AF692D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/BE5B3DFD-A6A4-DB11-9478-001731AF67EF.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/C04FA857-9BA4-DB11-9D12-003048767DCD.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/C21D8296-ADA4-DB11-9075-001731AF6651.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/CA4B6C3F-85A4-DB11-80E5-003048767651.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/CE321CF1-9CA4-DB11-9B50-00304876A06D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/CE447702-83A4-DB11-9B56-001731AF6789.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/CE660377-9CA4-DB11-83D6-001731AF6B7D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/CE8FAD2A-9DA4-DB11-8255-003048756485.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/D073925A-9DA4-DB11-9234-0030487253A7.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/D08EF983-9CA4-DB11-93DF-00304875AABD.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/D258764F-9CA4-DB11-8BC9-001731AF67C3.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/D2EB39AB-B2A4-DB11-9CD3-003048767D43.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/D46B1574-9BA4-DB11-8518-00304875AB55.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/D6AAC123-B8A4-DB11-9B5A-00304876A15B.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/D6D69E7C-9CA4-DB11-911B-001731AF66A7.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/DCAC5607-9CA4-DB11-9507-00304875A8F3.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/DED8A726-B2A4-DB11-8EDC-001731A283E1.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/E26A5C88-9CA4-DB11-9250-001731AF67E1.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/ECF0E99F-B2A4-DB11-8573-001731AF67BF.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/EE895001-AFA4-DB11-9100-001731AF66F9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/F80C9C3D-B3A4-DB11-80CC-001731AF65E9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/F84F0DC5-B3A4-DB11-8AF3-001731A28A31.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/FC3EF320-8AA8-DB11-9354-001731AF66AB.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/FC6F6600-9CA4-DB11-9B38-003048726E83.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E150/0000/FE56DBA2-AAA4-DB11-9C14-001731A283E1.root'
}

}
  # The particle data table
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"   
    es_prefer = PythiaPDTESSource {}
	

   #Geometry
   include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"

   #Tracker geometry
   es_module = TrackerGeometricDetESModule {}
   include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
   include "RecoTracker/GeometryESProducer/data/TrackerRecoGeometryESProducer.cfi"

   #Magnetic Field
   #
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

   # Calo geometry service model
   include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
   include "Geometry/CaloEventSetup/data/CaloTopology.cfi"		

#   module o1 = PoolOutputModule { untracked string fileName = "test.root" }
   module famosSimHits = FamosProducer 
   { 
	untracked int32 RunNumber = 1001
	bool UseMagneticField = true
	bool SimulatePileUp = false
	bool SimulateTracking = false
	bool SimulateCalorimetry = false
	untracked int32 Verbosity = 0

# Gaussian or flat or no primary vertex smearing
#	include "FastSimulation/Event/data/GaussianVertexGenerator.cfi"
#	include "FastSimulation/Event/data/FlatVertexGenerator.cfi"
	include "FastSimulation/Event/data/NoVertexGenerator.cfi"

# Kinematic cuts for the particle filter in the SimEvent
	include "FastSimulation/Event/data/ParticleFilter.cfi"

# Material effects to be simulated in the tracker material and associated cuts
	include "FastSimulation/MaterialEffects/data/MaterialEffects.cfi"


# (De)activate decays of unstable particles (K0S, etc...)
	include "FastSimulation/TrajectoryManager/data/ActivateDecays.cfi"

# Conditions to save Tracker SimHits 
	include "FastSimulation/TrajectoryManager/data/TrackerSimHits.cfi"

# FastCalorimetry
	include "FastSimulation/Calorimetry/data/Calorimetry.cfi"


# PileUp Event Generation
#	include "FastSimulation/PileUpProducer/data/PUProducer.cfi"

# Take pileup events from files
PSet NUProducer = 
{
}


   }

#  service = SimpleProfiling { }

  # path to run everything
   path p = { testNU }
#  path p = { famosSimHits, testNU }

  module testNU = testNuclearInteractions
	{
	# module label to find input sim tracks and sim vertices
  # necessary to access true particles 
	PSet TestVertexGenerator = {	
		string type = "None"	
	}	

    	PSet TestParticleFilter = {
		# Particles with |eta| > etaMax (momentum direction at primary vertex) 
		# are not simulated 
       		double etaMax = 5.0
		# Charged particles with pT < pTMin (GeV/c) are not simulated
        	double pTMin =  0.
		# Particles with energy smaller than EMin (GeV) are not simulated
        	double EMin = 0.
    	}

	bool SaveNuclearInteractions = true
	untracked string NUEventFile = "NuclearInteractions_150GeV.root"
	untracked string OutputFile = "testNuclearInteractions150.root"
	
	}

service = Timing { }
service = SimpleProfiling { }

# Keep the logging output to a nice level #
include "FWCore/MessageService/data/MessageLogger.cfi"
replace MessageLogger.destinations = {"detailedInfo150.txt"}

}
