process eg = {

 # initialize  MessageLogger
# include "FWCore/MessageLogger/data/MessageLogger.cfi"

  service =  RandomNumberGeneratorService {
#	untracked uint32 sourceSeed = 123456789
# This is to initialize the random engine of Famos
# Watch out! This works only if the FamosProducer label is "Famos"
        PSet moduleSeeds = {
#          	untracked uint32 VtxSmeared = 123456789
		untracked uint32 famosSimHits = 13579
#		untracked uint32 siTrackerGaussianSmearingRecHits = 24680
        }
}
	
  service = DaqMonitorROOTBackEnd{}		

 # input
  source = PoolSource {
#     untracked uint32 skipEvents = 476
     untracked int32 maxEvents = -1
     untracked uint32 debugVebosity = 10
     untracked bool   debugFlag     = true

#Pions 300 GeV
     untracked vstring fileNames = {
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/003F2894-94A6-DB11-ADD7-0013D3DE2697.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/00D49ACD-9EA6-DB11-8238-00E0812A2EEF.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/029CBC30-AAA6-DB11-B573-00E081297013.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/061C9084-95A6-DB11-BFCC-0013D3DE2645.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/06455FF9-53A8-DB11-A2C8-00E08128F4D9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/065CF35F-94A6-DB11-BDC0-00E08122CB70.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/068981A6-97A6-DB11-BC92-00E0812B4909.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/0C0A02A9-97A6-DB11-8FF7-00E08129001B.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/0CD87C3A-A4A6-DB11-9EF2-0013D3DE2655.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/10A88383-9EA6-DB11-A7FE-0013D3DE2619.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/145E4D3C-9EA6-DB11-9C20-00E08128F431.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/180894A8-97A6-DB11-BCD8-00E0812A4453.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/1C9D3565-53A8-DB11-BFEC-00161725E4DF.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/226E996E-98A6-DB11-BE49-0013D3DE2621.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/227C9237-96A6-DB11-9503-00161725E4CD.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/24A0945C-94A6-DB11-81B4-0013D3DE2619.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/2808DFC9-A7A6-DB11-89B5-0013D3DE2619.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/2A28CB6D-AAA6-DB11-961E-00E0812B491F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/3A3311E4-AAA6-DB11-A725-0013D3DE2615.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/3A8D7252-95A6-DB11-AB5F-00161725E46F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/3CB2763E-54A8-DB11-8B67-00E0812A4405.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/40073D38-54A8-DB11-8115-0013D3542048.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/400BE976-99A6-DB11-A052-00E081297145.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/403B09DB-2CA5-DB11-8AD6-00E0812900B9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/424892E7-A9A6-DB11-A1B7-00E08128EFA7.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/445E20CF-2CA5-DB11-BBCA-0013D3228193.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/480112A8-AAA6-DB11-A671-0013D3DE269B.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/4AD0DDAE-93A6-DB11-9A7E-0013D3541F86.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/4C555FD7-2CA5-DB11-9945-00E0812B4EF7.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/52EB1D04-AEA6-DB11-A3A0-00E081297145.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/566D93D3-C3A7-DB11-A503-00161725E51C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/58BC6D5C-8AA5-DB11-8154-00161725E522.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/58ECFF64-53A8-DB11-8181-00E08128F43D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/5CA56AAB-53A8-DB11-AD05-00E08128AB85.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/60AFF27A-AEA6-DB11-A5D7-00161725E50C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/70B7DA5E-8AA5-DB11-9D85-00E081262562.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/721D19CB-94A6-DB11-AE57-0013D3DE2697.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/74AA42FB-92A6-DB11-8BD2-0013D3DE265B.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/76390FD8-2CA5-DB11-BD2D-00E0812B4E15.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/76687872-A3A6-DB11-B7E7-00E0812AFB73.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/7E58ED15-98A6-DB11-9ABB-00E0812D7DAD.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/7EDF23DC-9BA6-DB11-AD67-0013D3541F86.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/849FB23B-97A6-DB11-ACAF-00E0812D8D9F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/84D1196B-A1A6-DB11-83C3-00161725E4CD.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/864B2D3A-98A6-DB11-9180-00E081279781.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/8C57EE79-A3A6-DB11-9671-00E0812A4453.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/8E5F5CFE-92A6-DB11-AADD-00161720D8BA.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/8EB2F971-93A6-DB11-9E80-0013D32281C5.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/92DD23D1-9EA6-DB11-9B86-00E0812970DF.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/9435FD71-93A6-DB11-8822-00E0812B4EBD.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/94B1E8E6-2BA5-DB11-9B61-00E081279C7F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/9CADE4AA-98A6-DB11-9D64-0013D322814B.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/9E37B4FD-A3A6-DB11-B7D9-00161725E520.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/9ECDB57A-9EA6-DB11-BBB9-00E081253AB0.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/A451C73C-33A5-DB11-8CE4-00E0812D9C55.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/A4D33E74-BAA6-DB11-B7A0-00E081261F8C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/A61784DF-A5A6-DB11-A089-00E08122CB3D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/AAB567B0-A9A6-DB11-8975-00E0812A2EED.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/AE5E8C84-95A6-DB11-B63D-0013D3DE265B.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/BABCEB33-AEA6-DB11-87C4-0013D3DE26C5.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/C0343844-97A6-DB11-B7A2-00E081270C1D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/C4565ED7-2CA5-DB11-9B60-0013D3541FE1.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/CAB8E731-99A6-DB11-8C85-00161725E4AB.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/CAD02530-A9A6-DB11-B57F-00E08122CA70.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/CC0943E5-96A6-DB11-B975-00E0812B6436.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/CC18D4B1-93A6-DB11-9135-00E08104E777.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/CCF1EF10-2DA5-DB11-A7C5-00E0812D9B03.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/CEA8AC71-9BA6-DB11-BABF-0013D3541FA2.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/D29ADF2A-A5A6-DB11-A809-0013D3541F4E.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/D49E0384-9FA6-DB11-BF52-00E0812A4401.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/D6474278-99A6-DB11-AEEC-00161725E4EB.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/D83340AB-98A6-DB11-8DE8-00E0812900F9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/D855FB12-9FA6-DB11-9FF9-00E081297197.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/DA013A75-AAA6-DB11-8ACF-0013D3DE2655.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/DE3EC4CE-9EA6-DB11-959D-00E08128EFA7.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/E83D5BF1-9FA6-DB11-9F40-0013D3228199.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/EA5F5ED5-2CA5-DB11-976C-00E0812B64FB.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/F0831E3C-A3A6-DB11-A255-00E0812A4455.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/F4081EB8-A8A6-DB11-87AA-0013D3DE2645.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/F48B037C-A9A6-DB11-AAC0-00E0812970DF.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/F4AE6E76-A8A6-DB11-B2A9-00161725E4E3.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/F6A4DAC5-95A6-DB11-9083-00161725E4AD.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/F6C1AD9F-ADA6-DB11-8885-00E0812948DD.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/F6C6DED2-2CA5-DB11-8B4E-0013D3542064.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/F85ACA6D-AAA6-DB11-8E23-00E08122BE0B.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/F8DD4C1E-95A6-DB11-99FE-0013D3228161.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E300/0000/FCC91DAF-93A6-DB11-AFCB-00161725E46F.root'
	}

}
  # The particle data table
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"   
    es_prefer = PythiaPDTESSource {}
	

   #Geometry
   include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"

   #Tracker geometry
   es_module = TrackerGeometricDetESModule {}
   include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
   include "RecoTracker/GeometryESProducer/data/TrackerRecoGeometryESProducer.cfi"

   #Magnetic Field
   #
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

   # Calo geometry service model
   include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
   include "Geometry/CaloEventSetup/data/CaloTopology.cfi"		

#   module o1 = PoolOutputModule { untracked string fileName = "test.root" }
   module famosSimHits = FamosProducer 
   { 
	untracked int32 RunNumber = 1001
	bool UseMagneticField = true
	bool SimulatePileUp = false
	bool SimulateTracking = false
	bool SimulateCalorimetry = false
	untracked int32 Verbosity = 0

# Gaussian or flat or no primary vertex smearing
#	include "FastSimulation/Event/data/GaussianVertexGenerator.cfi"
#	include "FastSimulation/Event/data/FlatVertexGenerator.cfi"
	include "FastSimulation/Event/data/NoVertexGenerator.cfi"

# Kinematic cuts for the particle filter in the SimEvent
	include "FastSimulation/Event/data/ParticleFilter.cfi"

# Material effects to be simulated in the tracker material and associated cuts
	include "FastSimulation/MaterialEffects/data/MaterialEffects.cfi"


# (De)activate decays of unstable particles (K0S, etc...)
	include "FastSimulation/TrajectoryManager/data/ActivateDecays.cfi"

# Conditions to save Tracker SimHits 
	include "FastSimulation/TrajectoryManager/data/TrackerSimHits.cfi"

# FastCalorimetry
	include "FastSimulation/Calorimetry/data/Calorimetry.cfi"


# PileUp Event Generation
#	include "FastSimulation/PileUpProducer/data/PUProducer.cfi"

# Take pileup events from files
PSet NUProducer = 
{
}


   }

#  service = SimpleProfiling { }

  # path to run everything
   path p = { testNU }
#  path p = { famosSimHits, testNU }

  module testNU = testNuclearInteractions
	{
	# module label to find input sim tracks and sim vertices
  # necessary to access true particles 
	PSet TestVertexGenerator = {	
		string type = "None"	
	}	

    	PSet TestParticleFilter = {
		# Particles with |eta| > etaMax (momentum direction at primary vertex) 
		# are not simulated 
       		double etaMax = 5.0
		# Charged particles with pT < pTMin (GeV/c) are not simulated
        	double pTMin =  0.
		# Particles with energy smaller than EMin (GeV) are not simulated
        	double EMin = 0.
    	}

	bool SaveNuclearInteractions = true
	untracked string NUEventFile = "NuclearInteractions_300GeV.root"
	untracked string OutputFile = "testNuclearInteractions300.root"
	
	}

service = Timing { }
service = SimpleProfiling { }

# Keep the logging output to a nice level #
include "FWCore/MessageService/data/MessageLogger.cfi"
replace MessageLogger.destinations = {"detailedInfo300.txt"}

}
