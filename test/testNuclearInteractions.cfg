process eg = {

    # The number of events to be processed.
    untracked PSet maxEvents = {untracked int32 input = 100000}

    # initialize  MessageLogger
    # include "FWCore/MessageLogger/data/MessageLogger.cfi"
    
    service =  RandomNumberGeneratorService {
	#	untracked uint32 sourceSeed = 123456789
	# This is to initialize the random engine of Famos
	# Watch out! This works only if the FamosProducer label is "Famos"
        PSet moduleSeeds = {
	    # untracked uint32 VtxSmeared = 123456789
	    untracked uint32 famosSimHits = 13579
	    # untracked uint32 siTrackerGaussianSmearingRecHits = 24680
        }
    }
    
    service = DaqMonitorROOTBackEnd{}		
    
    # input
    source = PoolSource {
	untracked uint32 debugVebosity = 10
	untracked bool   debugFlag     = true
	/* */
	# Pion 15 GeV
	untracked vstring fileNames = {
	    'file:SingleParticlePID-2212-E15_0.root'
	}
	/* */
    }

    module testNU = testNuclearInteractions
    {
    	PSet TestParticleFilter = {
	    # Particles with |eta| > etaMax (momentum direction at primary vertex) 
	    # are not simulated 
	    double etaMax = 5.0
	    # Charged particles with pT < pTMin (GeV/c) are not simulated
	    double pTMin =  0.
	    # Particles with energy smaller than EMin (GeV) are not simulated
	    double EMin = 0.
    	}
	
	bool SaveNuclearInteractions = false
	uint32 MaxNumberOfNuclearInteractions = 45000
	untracked string NUEventFile = "NuclearInteractions_pbar_E2GeV.root"
	untracked string OutputFile = "piplus_E15.root"
	
	
    }

    # Famos SimHits 
    include "FastSimulation/Configuration/data/FamosSequences.cff"
    replace VolumeBasedMagneticFieldESProducer.useParametrizedTrackerField = true
    replace famosSimHits.SimulateCalorimetry = false
    replace famosSimHits.SimulateTracking = false
    replace famosSimHits.SimulatePileUp = false
    
    # path to run everything
    #  path p = { testNU }
    path p = { famosSimHits, testNU }
    
    #   module o1 = PoolOutputModule { untracked string fileName = "test.root" }
    
    # Keep the logging output to a nice level #
    include "FWCore/MessageService/data/MessageLogger.cfi"
    replace MessageLogger.destinations = {"detailedInfo.txt"}
    
}
