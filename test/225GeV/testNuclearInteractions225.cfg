process eg = {

 # initialize  MessageLogger
# include "FWCore/MessageLogger/data/MessageLogger.cfi"

  service =  RandomNumberGeneratorService {
#	untracked uint32 sourceSeed = 123456789
# This is to initialize the random engine of Famos
# Watch out! This works only if the FamosProducer label is "Famos"
        PSet moduleSeeds = {
#          	untracked uint32 VtxSmeared = 123456789
		untracked uint32 famosSimHits = 13579
#		untracked uint32 siTrackerGaussianSmearingRecHits = 24680
        }
}
	
  service = DaqMonitorROOTBackEnd{}		

 # input
  source = PoolSource {
#     untracked uint32 skipEvents = 15000000
     untracked int32 maxEvents = -1
     untracked uint32 debugVebosity = 10
     untracked bool   debugFlag     = true


#Pions 225 GeV
     untracked vstring fileNames = {
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/00D76E87-E0BA-DB11-AE0B-0050455C2344.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/027D6F75-E0BA-DB11-8B06-00E08140335E.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/04560B57-2DBB-DB11-9FD8-00E08134F5A9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/0AF915FC-5FBC-DB11-9C40-00E081402812.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/0EB71EC1-E0BA-DB11-BC8D-00E08140335E.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/1418203D-A2BA-DB11-8BC2-00144F203518.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/1C833520-63BB-DB11-AA89-0015C5E9BD64.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/223D8AB6-E0BA-DB11-8912-00E081402876.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/24FA99A1-F1B8-DB11-B119-00E08134F5A9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/30DEE5C4-E0BA-DB11-B3DC-0050455C176E.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/3234EEDD-2ABB-DB11-828B-00144F2844C4.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/3C11BACA-E0BA-DB11-88E3-00E081332044.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/3CF450E4-D9BA-DB11-BF0E-00E081402830.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/3E952FC7-CFBA-DB11-8649-00144F283A7C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/3E962EA7-4DBC-DB11-871A-00E08140E6A1.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/429DBEEA-5FBC-DB11-8129-00E081402876.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/46D32AE0-CFBA-DB11-90DC-00144F283720.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/4A6C492C-69BA-DB11-966A-00E08140823F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/4E699E65-33BB-DB11-B06B-00E08134F4D3.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/50CAC755-DABA-DB11-8A5D-00E0814066A5.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/5EFB95C7-6EBB-DB11-A869-0050455D108A.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/6CFC3429-32BB-DB11-B532-00E08140E049.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/6E74B490-E0BA-DB11-B708-00E08140335E.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/72F366FB-21BB-DB11-85A5-00E08134FABA.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/749ED472-E0BA-DB11-8E4E-0050455D0FE6.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/7E68162C-7ABB-DB11-BAF2-0050455D17CC.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/82488F99-6ABA-DB11-9B3B-00E08140119D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/84116285-E0BA-DB11-A1FA-00E081402814.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/841EF169-6ABA-DB11-BEAF-00E08140E6A1.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/863B8E25-CBB9-DB11-948D-00144F282774.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/8890DD57-2DBB-DB11-B292-00E0814002AB.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/90D72E68-27BB-DB11-BE6F-00E0814011A7.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/9612BB25-33BB-DB11-B4CF-00E08134F525.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/A0CE96EB-2ABB-DB11-B2CE-00E0814067F1.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/A2A6DEB5-67BA-DB11-B01D-00E081401123.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/A89A7122-E1BA-DB11-8C8E-0050455CFFCA.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/B007E5A8-E0BA-DB11-915E-0050455CFDC4.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/B056D83A-6CBA-DB11-8E42-00E08140DF65.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/B6352EAE-E0BA-DB11-B192-0050455D17CC.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/B8180307-F3B8-DB11-B1C7-00E081401135.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/BA68968D-7ABB-DB11-A888-0050455D108A.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/C0F41700-7CBB-DB11-93D2-0050455D1828.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/D827A4A6-4DBC-DB11-92B1-00E08140EAB7.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/D8FD3B11-F9BA-DB11-9A78-0050455D1822.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/DE18E3F3-2ABB-DB11-8781-00E081402F3F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/E2B11702-2DBB-DB11-ABE5-00E08134F501.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/EA039C44-6CBA-DB11-9C88-00E0814011A7.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/F037904A-2DBB-DB11-887D-00E081402F3F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/F2A05B20-E0BA-DB11-9AAC-00E08133216C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E225/0001/FE6D2F38-60BC-DB11-A18E-00E08133216C.root'
	}

}
  # The particle data table
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"   
    es_prefer = PythiaPDTESSource {}
	

   #Geometry
   include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"

   #Tracker geometry
   es_module = TrackerGeometricDetESModule {}
   include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
   include "RecoTracker/GeometryESProducer/data/TrackerRecoGeometryESProducer.cfi"

   #Magnetic Field
   #
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

   # Calo geometry service model
   include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
   include "Geometry/CaloEventSetup/data/CaloTopology.cfi"		

#   module o1 = PoolOutputModule { untracked string fileName = "test.root" }
   module famosSimHits = FamosProducer 
   { 
	untracked int32 RunNumber = 1001
	bool UseMagneticField = true
	bool SimulatePileUp = false
	bool SimulateTracking = false
	bool SimulateCalorimetry = false
	untracked int32 Verbosity = 0

# Gaussian or flat or no primary vertex smearing
#	include "FastSimulation/Event/data/GaussianVertexGenerator.cfi"
#	include "FastSimulation/Event/data/FlatVertexGenerator.cfi"
	include "FastSimulation/Event/data/NoVertexGenerator.cfi"

# Kinematic cuts for the particle filter in the SimEvent
	include "FastSimulation/Event/data/ParticleFilter.cfi"

# Material effects to be simulated in the tracker material and associated cuts
	include "FastSimulation/MaterialEffects/data/MaterialEffects.cfi"


# (De)activate decays of unstable particles (K0S, etc...)
	include "FastSimulation/TrajectoryManager/data/ActivateDecays.cfi"

# Conditions to save Tracker SimHits 
	include "FastSimulation/TrajectoryManager/data/TrackerSimHits.cfi"

# FastCalorimetry
	include "FastSimulation/Calorimetry/data/Calorimetry.cfi"


# PileUp Event Generation
#	include "FastSimulation/PileUpProducer/data/PUProducer.cfi"

# Take pileup events from files
PSet NUProducer = 
{
}


   }

#  service = SimpleProfiling { }

  # path to run everything
   path p = { testNU }
#  path p = { famosSimHits, testNU }

  module testNU = testNuclearInteractions
	{
	# module label to find input sim tracks and sim vertices
  # necessary to access true particles 
	PSet TestVertexGenerator = {	
		string type = "None"	
	}	

    	PSet TestParticleFilter = {
		# Particles with |eta| > etaMax (momentum direction at primary vertex) 
		# are not simulated 
       		double etaMax = 5.0
		# Charged particles with pT < pTMin (GeV/c) are not simulated
        	double pTMin =  0.
		# Particles with energy smaller than EMin (GeV) are not simulated
        	double EMin = 0.
    	}

	bool SaveNuclearInteractions = true
	untracked string NUEventFile = "NuclearInteractions_225GeV.root"
	untracked string OutputFile = "testNuclearInteractions225.root"
	
	}

#service = Timing { }
#service = SimpleProfiling { }

# Keep the logging output to a nice level #
include "FWCore/MessageService/data/MessageLogger.cfi"
replace MessageLogger.destinations = {"detailedInfo225.txt"}

}
