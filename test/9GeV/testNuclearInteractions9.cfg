process eg = {

 # initialize  MessageLogger
# include "FWCore/MessageLogger/data/MessageLogger.cfi"

  service =  RandomNumberGeneratorService {
#	untracked uint32 sourceSeed = 123456789
# This is to initialize the random engine of Famos
# Watch out! This works only if the FamosProducer label is "Famos"
        PSet moduleSeeds = {
#          	untracked uint32 VtxSmeared = 123456789
		untracked uint32 famosSimHits = 13579
#		untracked uint32 siTrackerGaussianSmearingRecHits = 24680
        }
}
	
  service = DaqMonitorROOTBackEnd{}		

 # input
  source = PoolSource {
#     untracked uint32 skipEvents = 1500000
     untracked int32 maxEvents = -1
     untracked uint32 debugVebosity = 10
     untracked bool   debugFlag     = true

# Pions 9 GeV
     untracked vstring fileNames = {
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/00344EC9-10BC-DB11-AF09-00E0812D7A1B.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/0421EC24-03BC-DB11-846F-0013D3541F9C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/08B44746-03BC-DB11-8B3F-00E0812D9A83.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/0C32FEF8-03BC-DB11-8ED1-00E0812D9C05.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/16ABBFAA-03BC-DB11-85F2-00E0812D7DAF.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/1E805039-11BC-DB11-B657-0013D3228201.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/1E91189F-18BC-DB11-8FCD-0013D3541F0C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/24587BC6-02BC-DB11-8859-0013D3541F40.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/2A804215-05BC-DB11-8240-00E0812D7A37.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/34AC464C-02BC-DB11-B572-0013D3228141.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/38EEF76D-02BC-DB11-82A9-0013D32281A3.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/3A62B749-05BC-DB11-93C0-0013D3541FE4.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/409952FC-1FBC-DB11-BA0D-00E08127E4F7.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/46CC1364-18BC-DB11-8603-00E0812D9A85.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/4814EC24-03BC-DB11-9D34-0013D3541F9C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/48A604F1-04BC-DB11-9B13-00E0812D9C17.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/4A034F13-11BC-DB11-A613-00E0812D8C8D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/4A7C64F5-0EBC-DB11-8086-00E0812D9C2F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/4A8027F7-0EBC-DB11-B428-00E0812D8D6B.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/4C5EEBF6-24BC-DB11-A97C-00E0812A1DFD.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/4EE57742-0FBC-DB11-B684-0013D3541EFC.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/527E9B37-04BC-DB11-968D-0013D3541EE8.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/6C65785F-0DBC-DB11-B080-00E0812D8D71.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/6EBEC0D4-0DBC-DB11-A59E-00E0812D7317.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/6EBFE694-0DBC-DB11-8A54-00E0812D8C1D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/70673A65-03BC-DB11-AFD8-0013D3541F72.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/706D1B75-0CBC-DB11-97EE-0013D3228209.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/72067F40-15BC-DB11-A184-0013D322815B.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/742B8193-0CBC-DB11-9F11-0013D322816F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/7671CCDC-02BC-DB11-BE7F-00E0812D9C35.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/76879B37-04BC-DB11-9FD4-0013D3541EE8.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/7A5837C7-03BC-DB11-A0B4-00E0812D8CA1.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/7A6652F5-01BC-DB11-813E-0013D32281DD.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/8049C3CF-04BC-DB11-91D8-00E0812D7307.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/80770379-10BC-DB11-A066-00E0812D7DCF.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/82B31A62-04BC-DB11-AD1B-00E0812D9A7D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/82FDF354-11BC-DB11-82F4-0013D322814D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/86DE8EA6-0DBC-DB11-ADC9-0013D322818F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/8A8FE318-0FBC-DB11-912B-00E0812D9B21.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/9461DF83-03BC-DB11-B308-00E0812D8C63.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/9A777938-11BC-DB11-813E-0013D322818D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/9AAE4FB7-02BC-DB11-BE57-0013D3228193.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/9CA627EF-0CBC-DB11-9DD0-0013D3541EFC.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/A2B29B2E-15BC-DB11-95E2-00E0812B5399.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/AAFCE9FF-02BC-DB11-BADC-0013D3542048.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/AC6BD957-0EBC-DB11-83DA-0013D322814F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/AC726831-0DBC-DB11-BB38-00E0812D9A85.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/AE1232F1-04BC-DB11-A753-00E0812D7D1F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/B2868D7A-11BC-DB11-99B2-00E0812D9C55.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/B4C36804-0EBC-DB11-8DE0-00E0812D9C4F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/BA79A5BD-01BC-DB11-B831-00E0812D9C4F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/BEE93225-02BC-DB11-9898-00E0812D7245.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/C0E913A4-18BC-DB11-8FE3-0013D3541F0C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/C229EBFB-01BC-DB11-9EEC-00E0812D9AFF.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/CE0DDE1A-05BC-DB11-AED0-0013D3228177.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/D4C94B08-06BC-DB11-83CC-00E0812D9A99.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/D6FE7AFB-24BC-DB11-A1B3-0013D3228189.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/DA230E0D-11BC-DB11-94C6-00E0812D7245.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/DC4D91C9-18BC-DB11-AABA-0013D32281EF.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/DEA7464C-02BC-DB11-AE1F-0013D3228141.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/E0CEA794-0CBC-DB11-BFC4-00E0812D0FE9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/E49EE0EE-0EBC-DB11-B884-00E0812D8C1D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/E6CFBBE6-0DBC-DB11-84A0-00E0812D9B1F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/EA4C3836-0CBC-DB11-AC8F-0013D3228209.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/ECEF47D4-0EBC-DB11-BF7E-00E0812D9C4F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/EE6E97AA-03BC-DB11-BB99-00E0812D9C6F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/F0AF2F32-19BC-DB11-B148-0013D3541FFE.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/F2DF4ED3-0DBC-DB11-9FC1-00E0812D8C35.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/F669E32A-02BC-DB11-9B18-00E0812D7A37.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/F67715E5-0CBC-DB11-85D1-00E0812D0FE9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/FAFCD013-0DBC-DB11-9DE1-00E0812D7A37.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/FE255D46-03BC-DB11-AF6C-00E0812D8C8D.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/FE27D935-04BC-DB11-8FE4-0013D3542028.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E009/0001/FE620257-15BC-DB11-8ED3-00E0812B5345.root'
	}
}


  # The particle data table
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"   
    es_prefer = PythiaPDTESSource {}
	

   #Geometry
   include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"

   #Tracker geometry
   es_module = TrackerGeometricDetESModule {}
   include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
   include "RecoTracker/GeometryESProducer/data/TrackerRecoGeometryESProducer.cfi"

   #Magnetic Field
   #
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

   # Calo geometry service model
   include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
   include "Geometry/CaloEventSetup/data/CaloTopology.cfi"		

#   module o1 = PoolOutputModule { untracked string fileName = "test.root" }
   module famosSimHits = FamosProducer 
   { 
	untracked int32 RunNumber = 1001
	bool UseMagneticField = true
	bool SimulatePileUp = false
	bool SimulateTracking = false
	bool SimulateCalorimetry = false
	untracked int32 Verbosity = 0

# Gaussian or flat or no primary vertex smearing
#	include "FastSimulation/Event/data/GaussianVertexGenerator.cfi"
#	include "FastSimulation/Event/data/FlatVertexGenerator.cfi"
	include "FastSimulation/Event/data/NoVertexGenerator.cfi"

# Kinematic cuts for the particle filter in the SimEvent
	include "FastSimulation/Event/data/ParticleFilter.cfi"

# Material effects to be simulated in the tracker material and associated cuts
	include "FastSimulation/MaterialEffects/data/MaterialEffects.cfi"


# (De)activate decays of unstable particles (K0S, etc...)
	include "FastSimulation/TrajectoryManager/data/ActivateDecays.cfi"

# Conditions to save Tracker SimHits 
	include "FastSimulation/TrajectoryManager/data/TrackerSimHits.cfi"

# FastCalorimetry
	include "FastSimulation/Calorimetry/data/Calorimetry.cfi"


# PileUp Event Generation
#	include "FastSimulation/PileUpProducer/data/PUProducer.cfi"

# Take pileup events from files
PSet NUProducer = 
{
}


   }

#  service = SimpleProfiling { }

  # path to run everything
   path p = { testNU }
#  path p = { famosSimHits, testNU }

  module testNU = testNuclearInteractions
	{
	# module label to find input sim tracks and sim vertices
  # necessary to access true particles 
	PSet TestVertexGenerator = {	
		string type = "None"	
	}	

    	PSet TestParticleFilter = {
		# Particles with |eta| > etaMax (momentum direction at primary vertex) 
		# are not simulated 
       		double etaMax = 5.0
		# Charged particles with pT < pTMin (GeV/c) are not simulated
        	double pTMin =  0.
		# Particles with energy smaller than EMin (GeV) are not simulated
        	double EMin = 0.
    	}

	bool SaveNuclearInteractions = true
	untracked string NUEventFile = "NuclearInteractions_9GeV.root"
	untracked string OutputFile = "testNuclearInteractions9.root"
	
	}

#service = Timing { }
#service = SimpleProfiling { }

# Keep the logging output to a nice level #
include "FWCore/MessageService/data/MessageLogger.cfi"
replace MessageLogger.destinations = {"detailedInfo9.txt"}

}
