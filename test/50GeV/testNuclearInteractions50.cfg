process eg = {

 # initialize  MessageLogger
# include "FWCore/MessageLogger/data/MessageLogger.cfi"

  service =  RandomNumberGeneratorService {
#	untracked uint32 sourceSeed = 123456789
# This is to initialize the random engine of Famos
# Watch out! This works only if the FamosProducer label is "Famos"
        PSet moduleSeeds = {
#          	untracked uint32 VtxSmeared = 123456789
		untracked uint32 famosSimHits = 13579
#		untracked uint32 siTrackerGaussianSmearingRecHits = 24680
        }
}
	
  service = DaqMonitorROOTBackEnd{}		

 # input
  source = PoolSource {
#     untracked uint32 skipEvents = 15000000
     untracked int32 maxEvents = -1
     untracked uint32 debugVebosity = 10
     untracked bool   debugFlag     = true

# Pions 50 GeV
     untracked vstring fileNames = {
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/087C3685-92AA-DB11-835E-00144F1FCB32.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/0ACA3B46-3EA7-DB11-BEB8-00144F1FE6AA.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/0EA94EE1-CAB6-DB11-9532-00144F208AC8.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/12B46A0C-90AA-DB11-A28E-00144F1FCE0C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/1697C678-CAB6-DB11-A2B3-00144F20B9C0.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/1ECB65DB-7AA5-DB11-8C93-00144F205C2C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/245459C8-74A5-DB11-AD56-00144F1FE5F6.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/24562D07-74A5-DB11-9C0C-00144F208E7C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/2CED6D78-58A7-DB11-BB9F-00144F1FFF30.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/2EF852BF-42A7-DB11-B420-00144F1FFF30.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/3889177D-CAB6-DB11-BEAF-00144F1FE5F6.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/38D4B06C-7BA5-DB11-B527-00144F20B968.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/402BFB38-83A5-DB11-9CDF-00144F1FE854.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/467B2C30-53A7-DB11-ABCD-00144F2088E4.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/4E64916B-53A7-DB11-8563-00144F1FCEC0.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/507EEC84-92AA-DB11-B005-00144F1FFF30.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/6855CC5F-F4A8-DB11-9A57-00144F1FCEC0.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/68CA26E5-7AA5-DB11-96AD-00144F1FD0F8.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/6ADDEAAA-CAB6-DB11-A983-00144F20B9C0.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/6C122786-4FA7-DB11-B4C5-00144F2088E4.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/70004C15-74A5-DB11-8DC5-00144F208E98.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/705DA233-7FA5-DB11-AB6D-00144F1FE5F6.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/7215DFCD-7AA5-DB11-882B-00144F205C2C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/723023D3-50A7-DB11-8413-00144F1FE5F6.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/74EF68CC-7AA5-DB11-9CFE-00144F1FCE8C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/7836A343-74A5-DB11-B546-00144F208AC8.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/7C4F4C1D-55A7-DB11-8542-00144F1FCE8C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/7C7B2D07-74A5-DB11-85ED-00144F208E7C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/7E9B58B3-50A7-DB11-942F-00144F1FD0F8.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/7EB5859C-3EA7-DB11-8EE9-00144F1FCF80.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/7ECBEBD1-7AA5-DB11-A648-00144F1FFF30.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/8019D45B-3EA7-DB11-A480-00144F2088E4.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/8A17C4B5-3CA7-DB11-AAE0-00144F1FE854.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/8C6C5EC4-7AA5-DB11-909A-00144F1FCB32.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/8C8894D1-7AA5-DB11-A12A-00144F20B968.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/90FBA8E0-7BA5-DB11-A1B3-00144F20BF6C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/9223C454-CAB6-DB11-8DE2-00144F20674C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/940318E9-7FA5-DB11-9EC6-00144F1FCB32.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/9665D87F-92AA-DB11-8BE7-00144F20B9C0.root',
#'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/98C77E07-74A5-DB11-9F70-00144F20B968.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/9CEB962D-25A7-DB11-A439-00144F1FE5F6.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/9E337EA3-50A7-DB11-8710-00144F1FE854.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/9E7328B2-52A7-DB11-A4C7-00144F1FCF80.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/A22C0FFA-3EA7-DB11-9576-00144F1FCF80.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/A47FD9B5-54A7-DB11-9722-00144F1FCE0C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/A694E7CB-7AA5-DB11-ADA2-00144F208E98.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/A6A7C4DB-7AA5-DB11-B0FB-00144F20BF6C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/A6E878C8-75A5-DB11-8EF2-00144F1FCB32.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/A80CE6DF-7AA5-DB11-91DF-00144F1FCE8C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/AEC7A3DE-75A5-DB11-82FF-00144F1FCE0C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/B273C4F5-74A5-DB11-9779-00144F207C30.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/B4909688-58A7-DB11-BC69-00144F1FCB32.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/B6C9CBD9-7AA5-DB11-A6DD-00144F20674C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/B880C1C6-7AA5-DB11-B3FB-00144F1FE7E0.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/BA1327D1-7AA5-DB11-B9D8-00144F1FCB32.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/BEDD442F-57A7-DB11-89DF-00144F1FD0DC.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/C6C54086-50A7-DB11-A20B-00144F208AC8.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/C84D2B18-74A5-DB11-BCBC-00144F207C30.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/C8EE2E8A-51A7-DB11-8732-00144F1FCF80.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/CEA8F4D7-7AA5-DB11-A89A-00144F1FCF80.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/DA8862C2-CAB6-DB11-A746-00144F208AC8.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/EA6DB1AE-27A7-DB11-804D-00144F1FE854.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/EC6C05E5-7AA5-DB11-B8F9-00144F20B9C0.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/08791ED6-CFAA-DB11-9C96-00E08140823F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/0E75B780-3DA7-DB11-AC55-00144F1FD0F8.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/16FCDD3E-29A7-DB11-980A-00144F203440.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/2EEFA3AE-02AB-DB11-9FAD-0015C5E9B87F.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/4488E456-D4AA-DB11-A33A-00E0814002A9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/4AB8D5C5-7AA5-DB11-B9B3-00144F1FCF80.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/72366589-2FA7-DB11-8D47-0015C5E9BDB9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/74A8DA6C-5CA8-DB11-873E-0015C5E9C04B.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/96C6D684-74A5-DB11-B16F-00144F1FCABC.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/98F0606C-7CA5-DB11-93A7-00144F20B9C0.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/9AEAC28B-2FA7-DB11-A11B-00144F283544.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/9E98A214-56A7-DB11-AEEB-00144F208AC8.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/A0EE7288-1EA7-DB11-87E5-00E081402FCB.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/AE43B042-55A7-DB11-9ECF-00144F20BF6C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/B4682120-74A5-DB11-B621-00144F1FE7E0.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/BE9E33F3-DCA8-DB11-9CEF-00E081402CB1.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/D29B66F9-3EA7-DB11-8A7E-00144F1FD0DC.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/DA833A10-1EA7-DB11-9619-00E08140DF65.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/E86C8399-54A7-DB11-9A61-00144F1FE5F6.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/E873F132-7FA5-DB11-A3B7-00144F20674C.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/EE1C167C-9EAA-DB11-9318-0015C5E9B314.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/F01C48C5-C3A8-DB11-BF7E-00E08140E049.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/60962242-CAB6-DB11-B98F-0015C5E9BD64.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/625BF3D6-CAB6-DB11-AF6C-00E081402F41.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/CE5EC568-CAB6-DB11-8125-00E08134F50B.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/F4B584B3-CAB6-DB11-8B9D-00E08140E719.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0000/F6904C8C-CAB6-DB11-9D74-0015C5E9C04B.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0001/6EA59A67-3CB7-DB11-824D-00E0812B64AD.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0001/C62B1C23-26B7-DB11-9352-00E0812D7AB9.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0001/DE4BD878-3BB7-DB11-B2EC-00E0812AFBA1.root',
'/store/mc/2006/12/26/mc-hcal-120_Ieta1-29_Iphi1-2_E050/0001/FC294822-26B7-DB11-B57E-00E0812D9A9D.root'
	}
}


  # The particle data table
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"   
    es_prefer = PythiaPDTESSource {}
	

   #Geometry
   include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"

   #Tracker geometry
   es_module = TrackerGeometricDetESModule {}
   include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
   include "RecoTracker/GeometryESProducer/data/TrackerRecoGeometryESProducer.cfi"

   #Magnetic Field
   #
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

   # Calo geometry service model
   include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
   include "Geometry/CaloEventSetup/data/CaloTopology.cfi"		

#   module o1 = PoolOutputModule { untracked string fileName = "test.root" }
   module famosSimHits = FamosProducer 
   { 
	untracked int32 RunNumber = 1001
	bool UseMagneticField = true
	bool SimulatePileUp = false
	bool SimulateTracking = false
	bool SimulateCalorimetry = false
	untracked int32 Verbosity = 0

# Gaussian or flat or no primary vertex smearing
#	include "FastSimulation/Event/data/GaussianVertexGenerator.cfi"
#	include "FastSimulation/Event/data/FlatVertexGenerator.cfi"
	include "FastSimulation/Event/data/NoVertexGenerator.cfi"

# Kinematic cuts for the particle filter in the SimEvent
	include "FastSimulation/Event/data/ParticleFilter.cfi"

# Material effects to be simulated in the tracker material and associated cuts
	include "FastSimulation/MaterialEffects/data/MaterialEffects.cfi"


# (De)activate decays of unstable particles (K0S, etc...)
	include "FastSimulation/TrajectoryManager/data/ActivateDecays.cfi"

# Conditions to save Tracker SimHits 
	include "FastSimulation/TrajectoryManager/data/TrackerSimHits.cfi"

# FastCalorimetry
	include "FastSimulation/Calorimetry/data/Calorimetry.cfi"


# PileUp Event Generation
#	include "FastSimulation/PileUpProducer/data/PUProducer.cfi"

# Take pileup events from files
PSet NUProducer = 
{
}


   }

#  service = SimpleProfiling { }

  # path to run everything
   path p = { testNU }
#  path p = { famosSimHits, testNU }

  module testNU = testNuclearInteractions
	{
	# module label to find input sim tracks and sim vertices
  # necessary to access true particles 
	PSet TestVertexGenerator = {	
		string type = "None"	
	}	

    	PSet TestParticleFilter = {
		# Particles with |eta| > etaMax (momentum direction at primary vertex) 
		# are not simulated 
       		double etaMax = 5.0
		# Charged particles with pT < pTMin (GeV/c) are not simulated
        	double pTMin =  0.
		# Particles with energy smaller than EMin (GeV) are not simulated
        	double EMin = 0.
    	}

	bool SaveNuclearInteractions = true
	untracked string NUEventFile = "NuclearInteractions_50GeV.root"
	untracked string OutputFile = "testNuclearInteractions50.root"
	
	}

#service = Timing { }
#service = SimpleProfiling { }

# Keep the logging output to a nice level #
include "FWCore/MessageService/data/MessageLogger.cfi"
replace MessageLogger.destinations = {"detailedInfo50.txt"}

}
